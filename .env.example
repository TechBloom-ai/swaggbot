# Swaggbot Environment Configuration
# Copy this file to .env and fill in your values

# =============================================================================
# Database
# =============================================================================
# Path to SQLite database file
# For Docker: file:/app/data/swaggbot.db
# For local dev: file:./data/swaggbot.db
DATABASE_URL=file:./data/swaggbot.db

# =============================================================================
# LLM Provider Configuration
# =============================================================================
# Options: moonshot, openai, anthropic, ollama
LLM_PROVIDER=moonshot

# --- Moonshot AI (Kimi) ---
# Get your API key from: https://platform.moonshot.cn/
MOONSHOT_API_KEY=your_moonshot_api_key_here
MOONSHOT_MODEL=kimi-k2.5

# --- OpenAI ---
# Get your API key from: https://platform.openai.com/
# OPENAI_API_KEY=your_openai_api_key_here
# OPENAI_MODEL=gpt-4o
# OPENAI_BASE_URL=https://api.openai.com/v1  # Change for Azure OpenAI or compatible APIs

# --- Anthropic ---
# Get your API key from: https://console.anthropic.com/
# ANTHROPIC_API_KEY=your_anthropic_api_key_here
# ANTHROPIC_MODEL=claude-sonnet-4-20250514

# --- Ollama (Local models, no API key needed) ---
# Install from: https://ollama.ai/ then run: ollama pull llama3.1
# OLLAMA_BASE_URL=http://localhost:11434
# OLLAMA_MODEL=llama3.1

# =============================================================================
# Application Settings
# =============================================================================
NEXT_PUBLIC_APP_URL=http://localhost:3003

# =============================================================================
# MCP Server Configuration (for opencode/Claude Desktop)
# =============================================================================
# The MCP server runs via Docker and uses stdio transport
# No additional configuration needed - just ensure LLM_PROVIDER and its API key are set above

# Optional: Database cleanup settings
# CLEANUP_ENABLED=true
# SESSION_RETENTION_DAYS=30
# WORKFLOW_RETENTION_DAYS=7

# =============================================================================
# Security
# =============================================================================

# Application Password (REQUIRED)
# This password is required to access the application
# Set this to a secure password - no complexity requirements, any value is accepted
APP_PASSWORD=your_password_here

# Session Secret (REQUIRED for authentication)
# Used to sign session cookies
# Generate with: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
SESSION_SECRET=your_session_secret_here

# Session Max Age (optional, default: 86400 = 24 hours)
# How long sessions remain valid in seconds
# SESSION_MAX_AGE=86400

# Encryption key for storing auth tokens at rest (AES-256-GCM)
# IMPORTANT: Generate a strong random key and keep it secure!
# You can generate one with: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
ENCRYPTION_KEY=your_strong_random_encryption_key_here_min_32_chars

RATE_LIMIT_CHAT=30:1           # 30 requests per minute
RATE_LIMIT_WORKFLOW_CREATE=20:1 # 20 workflow creations per minute
RATE_LIMIT_WORKFLOW_EXECUTE=15:1 # 15 executions per minute
RATE_LIMIT_SESSION=60:1        # 60 session mutations per minute
RATE_LIMIT_DEFAULT=100:1       # 100 requests per minute for everything else